<div class="informes-layout">
  <div class="stepper-container">
    <h2 class="titulo">Gestion de informes</h2>

    <mat-horizontal-stepper
      class="informes-stepper"
      [linear]="false"
      labelPosition="bottom"
      color="primary"
    >
      <mat-step label="Informacion general">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-informacion-general
              [form]="form.get('generales')!"
            ></app-informacion-general>

            <div class="stepper-actions stepper-actions--single">
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Datos familiares">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-datos-familiares
              [form]="form.get('familiares')!"
            ></app-datos-familiares>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Historial academico">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-historial-academico
              [form]="form.get('academico')!"
            ></app-historial-academico>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Informacion laboral">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-informacion-laboral
              [form]="form.get('laboral')!"
            ></app-informacion-laboral>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Economica y financiera">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-informacion-economica
              [form]="form.get('economico')!"
            ></app-informacion-economica>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Vivienda y zona residencial">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-vivienda [form]="form.get('propiedades')!"></app-vivienda>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Salud">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-salud [form]="form.get('salud')!"></app-salud>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Antecedentes">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-antecedentes
              [form]="form.get('antecedentes')!"
            ></app-antecedentes>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Redes sociales">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-redes [form]="form.get('redes')!"></app-redes>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Referencias">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-referencia
              [form]="form.get('referencias')!"
            ></app-referencia>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Entrevista">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-entrevista [form]="form.get('entrevista')!"></app-entrevista>

            <div class="stepper-actions">
              <button mat-stroked-button class="btn-secondary" matStepperPrevious>
                Anterior
              </button>
              <button mat-flat-button class="btn-primary" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>

      <mat-step label="Anexos">
        <mat-card class="step-card">
          <div class="step-wrapper">
            <app-fotografias [form]="form.get('anexos')!"></app-fotografias>

            <div class="stepper-actions">
              <button
                mat-stroked-button
                class="btn-secondary"
                matStepperPrevious
              >
                Anterior
              </button>
              <button
                mat-flat-button
                class="btn-primary"
                (click)="guardarInforme()"
                [disabled]="isSaving || isGenerating"
              >
                {{ isSaving ? 'Guardando...' : 'Guardar' }}
              </button>
              <button
                mat-flat-button
                class="btn-finalizar"
                (click)="generarInforme()"
                [disabled]="isSaving || isGenerating"
              >
                {{ isGenerating ? 'Generando...' : 'Generar informe' }}
              </button>
            </div>
          </div>
        </mat-card>
      </mat-step>
    </mat-horizontal-stepper>
  </div>
</div>
